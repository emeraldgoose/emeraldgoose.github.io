I"ùg<h2 id="ì„¸ê·¸ë¨¼íŠ¸-íŠ¸ë¦¬ë€">ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë€?</h2>

<p>ì—¬ëŸ¬ ê°œì˜ ë°ì´í„°ê°€ ì—°ì†ì ìœ¼ë¡œ ì¡´ì¬í•  ë•Œ íŠ¹ì •í•œ ë²”ìœ„ì˜ ë°ì´í„° í•©ì„ ê°€ì¥ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ êµ¬í•  ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤.<br />
ì˜ˆë¥¼ë“¤ë©´ ê¸¸ì´ê°€ Nì¸ ë°°ì—´ Aì—ì„œ A[i]ë¶€í„° A[j]ê¹Œì§€ì˜ ë¶€ë¶„í•©ì„ êµ¬í•˜ê³  A[k]=Vë¡œ ë°”ê¾¸ì–´ë¼.</p>

<ul>
  <li>ë¶€ë¶„í•©ì„ êµ¬í•˜ëŠ” ì‹œê°„ ë³µì¡ë„ : $O(N)$</li>
  <li>A[k]=Vë¡œ ë°”ê¾¸ëŠ” ì‹œê°„ ë³µì¡ë„ : $O(1)$
  â†’ ì¿¼ë¦¬ê°€ Mê°œì¸ ê²½ìš° ì´ ì‹œê°„ ë³µì¡ë„ëŠ” $O(MN)$ì„ ê°€ì§„ë‹¤.</li>
</ul>

<p>ê·¸ëŸ¬ë‚˜, ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¥¼ ì´ìš©í•˜ë©´ ë‘ ì¿¼ë¦¬ ëª¨ë‘ $O(logN)$ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.</p>

<h2 id="ì„¸ê·¸ë¨¼íŠ¸-íŠ¸ë¦¬-êµ¬ì¡°">ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ êµ¬ì¡°</h2>

<p>ê¸¸ì´ 10ì˜ ìˆœì—´ì„ ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¡œ êµ¬ì„±í•˜ë©´ ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ë‹¤.</p>

<p><img src="https://lh3.googleusercontent.com/fife/ALs6j_Fnm3ZEEDj0X8A8u7P4zCO-EmRvvfEB-oEIDcI5gh3EmJeqy6tCTzRwiLb4NCGIqhvrQrig2CQkN44m5V4LK4Iag7P8N_RzT0z7xsyEuXGuz0WU4412NbfYHFrHcrthnzqg0Qf8gSOf5o4xTUsP19Gpb6PpyrPolQuYLixIpOUu5T4X2yIOhKMyVy0jpNAmVCqaYE1116vawrPQQvNQ_iQqT-KugBJ5jZ33y-GgxmTxOKGPn9FHP9-9u1HU808IXZnzlPg8p4R5uQI-lBlA-kqhaPztmnBxojDvRRzegBtuPwhAR367G2k5XsS2QFCJgz7aEGdMRkUSU51BqeIzbw2GnZQeVMeG_gX7t9rPyQDUOrnKmX-RYtPFxGvQc_2UxEAewW1MH6wjE6fRxr00OmlGTrAhIqTCSWeUJyYu5bbL12s5KPXnuzhrpxWO6qf-agoKXYQ2c6ycGYisNC4tBkEoi0iaJdRR2GFGYauNmFBzqxQUuh1IB2vNaLNtrPnciU0Vn-efCMymcTAoglnWaZYpL5l8C9QixaY09jy_3Cu2pSuC8nkDIeNh4Pp_-qeOVYag--TyFw6RdFLQ7NEj6aLk_HUD07JVrc_qq1HmpwSKSEgMfWDmN5W6OP-_Pw0psqmtxpDkTTRfr5pF1CsFK4lNLJneHrF72N9d6PAWB7FQtCSskIq6qqM8W2eOoKFgWir596GqIpsUxk48nDiY3nMQqCDG5J2XNonf05ojTbzvh2PH8PZKTMz_k9DBng-c-jf0ZGMBLwwMlqyCOsPdeQ-q93X3Dm6ZPJwUujjDNJYlsL1Ys0LkX1fQuEnZTYqZE3r-C_xlqOkw4G65X-KjJxAp7iXAUTnvB2KzTR0GqNDlFbY6FKFbhUFt-A-f_SBjhuS9xarqNejZmg_jAUFgz49JzJjvIC2ptGqOvHKJG9NHkzlv-02UM_B5Utyzax4UBW6ndOdlZP6zPoVm6pYoG56Nd23KkhayGiOhbDCpob-vXKC1BPgT6hM8mGRz3CnssP0FDY42sH4d0UFOjba3ZjccFWAv-2puGO62flMiwJz2Uf3TOBDOPINnsHPpzUI_3gpFzsX6PghQdQUlOFOBA1J3OgoT2gKOlzIt8GUCpKBsm7X0sGXT8sq_sSKddiApIJa_1LfVNEA0fPL5XZpO4q5dn_HA119dHL1HGQfbl9IQa19vxzcRnA0H8SE4cXBC3PNSUwnQ_mK-oFiTem_a7UseyBUMmyngJK96Rd3WAXeWR5_jQDD2T9JQznk_ZRFnuiDKYdYy2Zo_G0aYjN-Uc14FoTV0OkFchD1knENwR2pdg0E12b4Yq9Sx2sfVX_g0FlLSAW-fNIb7LHVS3F2uuaRmPkmcWeDulkOK6sJ3eWRrnj91EuYAJG-uDJ23uSTy7squyKmXPyouPkrQjnAGfQ3grrqFdMrI8WcN2R248xi26qEsjp2Ul91ixdtQ4Y1jwPCVIpS4-OVylpGnwGqqurhqGgDA0-9DsjOZwlRPSIGt5vlFlOT8s7L_jRJbOL6H_McM8BNUw4LiaXv5S2cd2n2Lrrf75cwkfYAV6GmZpk2YKzD5g7FKTU-czE0IaSqcoUGT1QfG2re2XUX8FTYkWkU9aRMSSMxuRqP3fINjFlslOpw_Jw" alt="" /></p>

<p>íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ol>
  <li>ë£¨íŠ¸ëŠ” ì „ì²´ ìˆœì—´ì˜ í•©ì´ ë“¤ì–´ê°„ë‹¤.</li>
  <li>ìì‹ ë…¸ë“œëŠ” ë¶€ëª¨ì˜ ë°ì´í„°ë¥¼ ì ˆë°˜ì”© ë‚˜ëˆ„ì–´ êµ¬ê°„ í•©ì„ ì €ì¥í•œë‹¤.</li>
</ol>

<p>ì´ ê³¼ì •ì„ ë°˜ë³µí•˜ë©´ êµ¬ê°„ í•© íŠ¸ë¦¬ì˜ ì „ì²´ ë…¸ë“œë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.<br />
ì´ë•Œ, ë£¨íŠ¸ì˜ ë²ˆí˜¸ëŠ” 0ì´ ì•„ë‹ˆë¼ 1ì„ ì˜ë¯¸í•œë‹¤. <br />
ì™œëƒí•˜ë©´ ë‹¤ìŒ ì™¼ìª½ ìì‹ì´ 2, ì˜¤ë¥¸ìª½ ìì‹ì´ 3ì„ ê°€ë¦¬í‚¤ê²Œ ë˜ë©´ì„œ ë¶€ëª¨ë…¸ë“œ ë²ˆí˜¸ì—ì„œ 2ë¥¼ ê³±í•˜ë©´ ì™¼ìª½ ìì‹ë…¸ë“œë¥¼ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì— íš¨ê³¼ì ì´ë‹¤. ì•„ë˜ ê·¸ë¦¼ì„ ë³´ë©´ ì´í•´í•˜ê¸° ì‰½ë‹¤.</p>

<p><img src="https://lh3.googleusercontent.com/fife/ALs6j_H-ZgdVezHkKTo0kpSIZldSQXkETY3aU7iQIeaGQDBA48D5SWJkNcQRC9iMWPdM0LKGhIl9iu3q2vFPnwI73_ApxyXWP8PPB3kEdDD3-TTVy5rZKWWPDsLHhBkCVNSAPN0mGnrkdf5ADI24QtnGZxMkwPte9wHXQCcM-YniGFGryYWfDhM4SsYQBCr6KeVBEZDyaf70OKNj1Ib_s-BbFHzfKhzgV9Z3dm4wlQ6t5SKz_tPBkVMXq-PGfrqVoWsF2tmRtnfYJwkLBHHF8w6zfyqcv96_dNPagsattXgK7J1EEm6-CpEHdGIgxQBVSTSmTKioR5k7nzmacDgAlGxz0B5mvf63Wv7Qn8A0-uYnfpZ_VucEQIQqv8glErEvXlDQp7dAuSdIchrcuWH71Nv5MPdITr3wC7tDbR_ARNrV9V0gTPwguhrsoWyAOhPgSAEsD80c0i8ywehVMxpVlM7xZkS2dF-R9fmSiwOEs4QKi4aITcjJ2xFN53gkww9FUSocYP2fAdVWFHk6Ycz14UID1vEDDm1Y_Y3IR_SqWLQFLVIsWtREooOwhLt1zIERHZNT_J8WrY9HQdI3YvdInIVvTSJx1AiX2vNJOpmnSOaHEZALg35Z2g5px62honUGzh7lnPVw-Cw1oXvrcZVMp-6LezmsogT8Mdv9xe3QsgqhsqBLFoaRiO22czyQfZsNCNI9EVtN-7TE7wKW0Avl8oQ936SYwT4VPZX53Fu_zV482w1tPsRxsU23-xSCDTAIFbzvVamqsoHBCDgGEyXDVAN-Dv63JJ23yJxPlPZeqmnsfxlY4R8JbIGuLjBjnG3_5faJXEmAZLOhI2xcAPNCIMHBLJMBsV-GcUfxdyPQZhn3qYgmMTmaBcskt5hicebhcfmyGkKit6Lo4uO-1Pl0Xzift7AeM6Ag1CUgEctGFjUC29ug_gurM9QHMusJFS5ccc_s9Ique0n5OHVbt29XYuLpqMGz7lLbQeLVJfIfdmQcnITzUiGSSoeXs-HZlqqffcFtatlztAeKU3movF_DYCCoQZdvAU42eNtmMCP2kLwkPd1T00DcaKEocdG8TJd1szTEJV_XigxrzlhMfcJY8TsmzQeWkQIaCS98iP0Gn9C5qLysi_OTm6-B1JihWDwHohIfPBdSuAeifAGoXygXEtEyolQHg_vu6ABLgvRbELeFQUVHWZmbyuNBkOzLR8THgy9nPnUBP1mTlyQ4D-oEfoE0YDytWSkKZ-pWlw2cSZG44_jjS3ilxJQuPSxkh_f_MMkJlOu0Woogh1CM-7DAK3j_lRmFf15z8AWHie7OojQvXekyUqk0U-6f49rqw1HE-TssMOmKMo44I3DRyQ8IOjTXZcJp28gnaaYcclI2WaKanYbbK_LHMFjOcazIDbmZUkhmjKP6wvOG_EY51dauG7NhZECXlaLl12YgzRwZdY873ZuYbGNdHXfZ4QmmtFf-rUiS_zlRZ51icZlRGcUTv140nu7DI4AgDHky9cSCtsJ_7RpWu30DQLNrlZK3yTz259nUYaf8CkXeEsC0_TIB3E8n0fZpLPO0bXhZzXuTQxFbnNU90UrQsNON5g7pF_1_LnAiNLZubQL7doRKdvmWU2nO7hEjx8FgmpFUdilqliO8sGycWiD06Q" alt="" /></p>

<p>ë˜í•œ, êµ¬í˜„ ë°©ì‹ì€ ì¬ê·€ì ìœ¼ë¡œ êµ¬í•˜ëŠ” ê²ƒì´ ë” ê°„ë‹¨í•˜ë‹¤.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// start: ì‹œì‘ ì¸ë±ìŠ¤, end: ë ì¸ë±ìŠ¤</span>
<span class="kt">int</span> <span class="nf">init</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">end</span><span class="p">)</span> <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>

    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

    <span class="c1">// ì¬ê·€ì ìœ¼ë¡œ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆˆ ë’¤ì— ê·¸ í•©ì„ ìê¸° ìì‹ ìœ¼ë¡œ í•œë‹¤.</span>
    <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">init</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">init</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="êµ¬ê°„-í•©-êµ¬í•˜ê¸°">êµ¬ê°„ í•© êµ¬í•˜ê¸°</h2>

<p><img src="https://lh3.googleusercontent.com/fife/ALs6j_HlgjAR9T7_P_2QgWPo8ZmeB9LWnzNPjzLnqRt0o--Bf9hVdKZMDB9MZiFYVEUn_AKGNa4VUPaCbfsp7X3Z8u5EHKcyvdtq-VgajO5bro0rByRmC4eN3POeJzHm9HQd6jZJzpOsy-LfwKwyHvFK_ORkKp2n8hUzorDt0mye11k-4eAYDW-YGJnAM01R7__f6bFZD5JIsK8HrQ6aUgY6tIz5G0w1VvUMejjr2f0Qr9WqQ65ECLkDofpOxyMpSaDj9DUczNVJymZjQy601ghNj7nmKVMHuEqALsuzaLHE05cE74r_dqiBclciiTEhwobOYfoGmv1S5Ldlc1n2SWOxwDQl0nrcNqX4VyV8sgdknArvj9J8RqB_XoQPWN1JXPkj7vACQZiFMUaM_yjUnvuBbeiuIStz5nwoG-v-I5G-yn3UQX0lQSOGFMDMoIlsVeS3FQALe0uH9jpBG2K4j3bXXN5gfyb4l3gV1UmZaLe4fEudiAfYY__wCr43CCUZCo1KNWTp_VFDjBg20Omg-XKh0dPfwx1hCFt_QoUVF4lnh6PRVQIFRxdJ7s1-xRqrq3iSCBvrtDlVwKE52nankI5-Hf72e_3zusI-cW2_E25RTt9JH0eLhAKM2NWDGj9sFFNSe-JXkYcZcqf9is3_mxSAjutxJ4J2bWOGlC3WXse81vfm7sH4ALGV5c7eC6FMfA_4H60ELODX-5FcEqwgvqXRVGMCYJleunRgQXLSJWFW7ix69jWlBMqgqdQcKoD7iSM2AUpWqvViiZpApQkKsVdM1UP-QiKMD89lnXiVxqNKseIkVstPPgx532OD94JoOkjQzkPGvrONxiU5cTP6oFZzJ3wLOLxvLYyMkp7qngT_wEXvtYdvwDJ7ZzUVtdW98aEy471fhkhfBP1hDSdauCDPFVkY_VZLOcoUI2QrKjXS2q8-yeo8oBfZCtvppE-Z1SuS7S1DAJBQiFpyAb1s5sfb-6rtx743mtULd1Zn77nyb4FKi83S0E8mr_Pp4xxDY_SRLPZvwaeFW3ewp1WDGP8YFSLAx67mrzl868VteZESA4ZMfVIVqfCiCwyJjfShpsskmoa4-w20txSQTYxJ1Nm3ymSGnJhP5fAHd9DFq1_1N1lfTPnSr57LGRfyyN4PtaOP5cyNFbCfooNaHsSVXSW2Yp7gDGb47dSVF-oljxUqNQoL0GnZQJN1IHJkIT2qEwNn0TQvqmDA87ZrLBSxwDcvK7gQKrspVVTHoVph4JlpQ-HRRn_-EurSQMFIYbH4f-ikHo8lbzMOsBNzP65rZz-Lyo5pv3ktUacQ6PlcPAXbLu-d8_6P9TYL0TzWUh5CEk0QvsokfVMIXyvWuO0xtEL38nRlpTkc3XSSHvpiMupR0SGq_wRVC9Q-q5Vlr4h8Wrg4oSXiQc6I0PpYEu-tuXqAimj2yPWvxqD0b-V3iB5qFIWYdnBaR8mQu4ruNhpanRGLcmz0O3FyiNgJLuHWc2gBq8O255DZCoAmPNNKUZ7ixgc8dFagA9_iPpwil2tyGAZu27IHqFEK8vPfw9QcOWqpHF1MY3YUX_RiI29ZYR52xkst2d_eoxaPB5IfSKk8S3_iolLqBKlOgm7qFd4JYPerN4JEoD8-ngCU0_qhQTWXhHIEZ4DXUA" alt="" /></p>

<p>ìœ„ì˜ ê·¸ë¦¼ì—ì„œ a[4] ~ a[8]ì˜ êµ¬ê°„í•©ì„ êµ¬í•˜ê³  ì‹¶ë‹¤ë©´ ë…¹ìƒ‰ìœ¼ë¡œ ì¹ í•´ì§„ ë…¸ë“œì˜ ê°’ë§Œ ë”í•´ì£¼ë©´ ëœë‹¤.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// start : ì‹œì‘ ì¸ë±ìŠ¤, end : ë ì¸ë±ìŠ¤</span>
<span class="c1">// left, right : êµ¬ê°„ í•©ì„ êµ¬í•˜ê³ ì í•˜ëŠ” ë²”ìœ„</span>
<span class="kt">int</span> <span class="nf">sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ë²”ìœ„ ë°–ì— ìˆëŠ” ê²½ìš°</span>
    <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">end</span> <span class="o">||</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">start</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

    <span class="c1">// ë²”ìœ„ ì•ˆì— ìˆëŠ” ê²½ìš°</span>
    <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">start</span> <span class="o">&amp;&amp;</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">];</span>

    <span class="c1">// ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ì–´ í•©ì„ êµ¬í•˜ê¸°</span>
    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">sum</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">rigth</span><span class="p">)</span> <span class="o">+</span> <span class="n">sum</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="íŠ¹ì •-ì›ì†Œì˜-ê°’-ë°”ê¾¸ê¸°">íŠ¹ì • ì›ì†Œì˜ ê°’ ë°”ê¾¸ê¸°</h2>

<p>íŠ¹ì • ì›ì†Œì˜ ê°’ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ í•´ë‹¹ ì›ì†Œë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ëª¨ë“  êµ¬ê°„ í•© ë…¸ë“œë¥¼ ê°±ì‹ í•´ì•¼ í•œë‹¤.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// start : ì‹œì‘ ì¸ë±ìŠ¤, end : ë ì¸ë±ìŠ¤</span>
<span class="c1">// index : êµ¬ê°„ í•©ì„ ìˆ˜ì •í•˜ê³ ì í•˜ëŠ” ë…¸ë“œ</span>
<span class="c1">// dif : ìˆ˜ì •í•  ê°’ê³¼ ì›ë˜ì˜ ê°’ì˜ ì°¨ì´ (val - a[index])</span>
<span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dif</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ë²”ìœ„ ë°–ì— ìˆëŠ” ê²½ìš°</span>
    <span class="k">if</span><span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">||</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="n">end</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

    <span class="c1">// ë²”ìœ„ ì•ˆì— ìˆìœ¼ë©´ ë‚´ë ¤ê°€ë©° ë‹¤ë¥¸ ì›ì†Œë„ ê°±ì‹ </span>
    <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dif</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">end</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

    <span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">dif</span><span class="p">);</span>
    <span class="n">update</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">dif</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="ì „ì²´-ì½”ë“œ">ì „ì²´ ì½”ë“œ</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#define NUM 13
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">a</span><span class="p">[]</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">tree</span><span class="p">[</span><span class="mi">4</span><span class="o">*</span><span class="n">NUM</span><span class="p">];</span>
<span class="cm">/*
    4ë¥¼ ê³±í•˜ë©´ ëª¨ë“  ë²”ìœ„ë¥¼ ì»¤ë²„í•  ìˆ˜ ìˆë‹¤.
    ê°¯ìˆ˜ì— ëŒ€í•´ì„œ 2ì˜ ì œê³± í˜•íƒœì˜ ê¸¸ì´ë¥¼ ê°€ì§€ê¸° ë˜ê¸° ë•Œë¬¸
*/</span>

<span class="kt">int</span> <span class="nf">init</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">end</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>

    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">init</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">init</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">end</span> <span class="o">||</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">start</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">start</span> <span class="o">&amp;&amp;</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">];</span>

    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">sum</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">+</span> <span class="n">sum</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dif</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">||</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="n">end</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

    <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dif</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">end</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

    <span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">dif</span><span class="p">);</span>
    <span class="n">update</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">dif</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">init</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">NUM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"0ë¶€í„° 12ê¹Œì§€ì˜ êµ¬ê°„ í•©: "</span><span class="o">&lt;&lt;</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">NUM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>

    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"3ë¶€í„° 8ê¹Œì§€ì˜ êµ¬ê°„ í•©: "</span><span class="o">&lt;&lt;</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NUM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>

    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"ì¸ë±ìŠ¤ 5ì˜ ì›ì†Œë¥¼ 0ìœ¼ë¡œ ìˆ˜ì •"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">update</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NUM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// val - a[index]</span>

    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"3ë¶€í„° 8ê¹Œì§€ì˜ êµ¬ê°„ í•©: "</span><span class="o">&lt;&lt;</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NUM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*
    ê²°ê³¼:
    0ë¶€í„° 12ê¹Œì§€ì˜ êµ¬ê°„ í•© : 66
    3ë¶€í„° 8ê¹Œì§€ì˜ êµ¬ê°„ í•© : 41
    ì¸ë±ìŠ¤ 5ì˜ ì›ì†Œë¥¼ 0ìœ¼ë¡œ ìˆ˜ì •
    3ë¶€í„° 8ê¹Œì§€ì˜ êµ¬ê°„ í•© : 36
*/</span>
</code></pre></div></div>

<h2 id="reference">Reference</h2>
<p><a href="https://blog.naver.com/ndb796/221282210534">ì•ˆê²½ì¡ì´ê°œë°œì : ë„¤ì´ë²„ ë¸”ë¡œê·¸</a></p>
:ET