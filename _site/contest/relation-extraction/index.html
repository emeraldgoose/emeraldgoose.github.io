<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>P2 KLUE Relation Extraction(RE) 대회 회고 - gooooooooooose</title>
<meta name="description" content="대회 목적   이번 대회는 KLUE의 Relation Extraction Task를 수행을 평가합니다. 문장 내 단어의 관계를 알아내면 knowledge graph를 생성하는데 key역할을 하며 생성된 knowlege graph를 통해 QA나 Summarization과 같은 Task를 수행하는데 도움을 줄 수 있습니다. 저는 이번 대회에서 적절한 성능을 내는 모델과 special token을 넣어 성능에 어떤 변화를 일으키는지 확인하는 실험을 진행했습니다.">


  <meta name="author" content="goooose">
  
  <meta property="article:author" content="goooose">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="gooooooooooose">
<meta property="og:title" content="P2 KLUE Relation Extraction(RE) 대회 회고">
<meta property="og:url" content="http://localhost:4000/contest/relation-extraction/">


  <meta property="og:description" content="대회 목적   이번 대회는 KLUE의 Relation Extraction Task를 수행을 평가합니다. 문장 내 단어의 관계를 알아내면 knowledge graph를 생성하는데 key역할을 하며 생성된 knowlege graph를 통해 QA나 Summarization과 같은 Task를 수행하는데 도움을 줄 수 있습니다. 저는 이번 대회에서 적절한 성능을 내는 모델과 special token을 넣어 성능에 어떤 변화를 일으키는지 확인하는 실험을 진행했습니다.">







  <meta property="article:published_time" content="2021-10-09T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/contest/relation-extraction/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "emeraldgoose",
      "url": "http://localhost:4000/"
    
  }
</script>


  <meta name="google-site-verification" content="googleb34ce5276ba6573e" />





  <meta name="naver-site-verification" content="naver93cdc79a5629ab3736d7cf8ff7b51d80">


<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="gooooooooooose Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          gooooooooooose
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/bio-photo.png" alt="goooose" itemprop="image" class="u-photo" width="110px" height="110px">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">goooose</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Dev blog.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">South Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:smk6221@naver.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/emeraldgoose" rel="nofollow noopener noreferrer me"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="P2 KLUE Relation Extraction(RE) 대회 회고">
    <meta itemprop="description" content="대회 목적이번 대회는 KLUE의 Relation Extraction Task를 수행을 평가합니다. 문장 내 단어의 관계를 알아내면 knowledge graph를 생성하는데 key역할을 하며 생성된 knowlege graph를 통해 QA나 Summarization과 같은 Task를 수행하는데 도움을 줄 수 있습니다. 저는 이번 대회에서 적절한 성능을 내는 모델과 special token을 넣어 성능에 어떤 변화를 일으키는지 확인하는 실험을 진행했습니다.">
    <meta itemprop="datePublished" content="2021-10-09T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">P2 KLUE Relation Extraction(RE) 대회 회고
</h1>
          
<!--
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  0 minute read
</p>
            devinlife comments :
                싱글 페이지(포스트)에 제목 밑에 Updated 시간 표기
                기존에는 read_time이 표기. read_time -> date 변경
-->
            <p class="page__date"><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated: <time datetime="2021-10-09T00:00:00+09:00">October 09, 2021</time></p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              
                <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
                <ul class="toc__menu"><li><a href="#대회-목적">대회 목적</a></li><li><a href="#성능향상을-위한-실험">성능향상을 위한 실험</a><ul><li><a href="#preprocessing-with-special-tokens">Preprocessing with special tokens</a></li><li><a href="#models">Models</a></li><li><a href="#results">Results</a></li></ul></li><li><a href="#회고">회고</a></li></ul>

              
            </nav>
            <!-- devinlife comment : right-sidebar ads -->
            <nav class="toc-custom">
              
            </nav>
          </aside>
        
        <h2 id="대회-목적">대회 목적</h2>
<hr />
<p>이번 대회는 KLUE의 Relation Extraction Task를 수행을 평가합니다. 문장 내 단어의 관계를 알아내면 knowledge graph를 생성하는데 key역할을 하며 생성된 knowlege graph를 통해 QA나 Summarization과 같은 Task를 수행하는데 도움을 줄 수 있습니다. 저는 이번 대회에서 적절한 성능을 내는 모델과 special token을 넣어 성능에 어떤 변화를 일으키는지 확인하는 실험을 진행했습니다.</p>

<h2 id="성능향상을-위한-실험">성능향상을 위한 실험</h2>
<hr />
<ul>
  <li>먼저 baseline 코드의 성능을 알아보았습니다.
    <ul>
      <li>Public LB 62.963 (eval step 2000)</li>
    </ul>
  </li>
</ul>

<h3 id="preprocessing-with-special-tokens">Preprocessing with special tokens</h3>

<ul>
  <li>s’ 는 sentence의 일부분을 뜻합니다.</li>
  <li>Type1
    <ul>
      <li>[CLS] s’ [SUB] subject_word [/SUB] s’ [OBJ] object_word [/OBJ] s’ [SEP]</li>
    </ul>
  </li>
  <li>Type2
    <ul>
      <li>[CLS] s’ [ENT] subject_word [/ENT] s’ [ENT] object_word [/ENT] s’ [SEP]</li>
    </ul>
  </li>
  <li>Type3
    <ul>
      <li>[CLS] s’ [SUB] s’ [OBJ] s’ [SEP] subject_word [SEP] object_word [SEP]</li>
    </ul>
  </li>
  <li>Type4
    <ul>
      <li>[CLS] subject_word [SEP] subject_type [SEP] object_word [SEP] object_type [SEP] sentence [SEP]</li>
    </ul>
  </li>
  <li>Type5
    <ul>
      <li>Type4를 기반으로 하고 [UNK], [unused] 토큰을 각각 10개와 99개를 add_special_tokens로 넣었습니다.</li>
      <li>Testset에는 Trainset에 없는 단어들도 있다고 하여 [UNK]로 대체되어 생긴 문제라는 가설을 세우고 [unused]토큰을 사용해서 대체하도록 했습니다.</li>
    </ul>
  </li>
  <li>Type6
    <ul>
      <li>Type5와 달리 [UNK]는 10개, [unused] 토큰을 200개를 add_special_tokens로 넣었습니다.</li>
      <li>monologg님의 koELECTRA <a href="https://github.com/monologg/KoELECTRA/issues/12">깃 이슈</a>에서 [unused] 토큰의 개수가 200개인 것을 보고 [unused] 토큰 99개로는 데이터셋을 모두 커버할 수 없다고 생각하게 되어 200개로 늘렸습니다.</li>
    </ul>
  </li>
  <li>Type7
    <ul>
      <li>[CLS] subject_word [SEP] subject_type [SEP] object_word [SEP] object_type [SEP] s’ @ * subject_type * subject_word @ s’ # ^ object_type ^ object_word # s’ [SEP]</li>
    </ul>
  </li>
</ul>

<h3 id="models">Models</h3>

<ul>
  <li>KLUE
    <ul>
      <li>Bert-base</li>
      <li>roberta-base, large</li>
    </ul>
  </li>
  <li>Multilingul Models
    <ul>
      <li>XLM-roberta-base</li>
      <li>bert-base-multilingul-cased</li>
      <li>XLM-roberta-base와 bert-base-multilingul-cased모델을 선택한 이유는 trainset을 보면 subject_word 혹은 object_word가 한국어가 아닌 영어, 일본어, 한자까지 있기 때문에 multilingul모델의 vocab을 사용하면 모두 커버가 되지 않을까?해서 선택하게 되었습니다.</li>
    </ul>
  </li>
</ul>

<h3 id="results">Results</h3>

<ul>
  <li>먼저, 저는 eval_auprc를 기준으로 삼았습니다. f1의 측정 방식에서 no_relation label을 제외하고 측정하기 때문에 전체를 보려면 auprc를 봐야한다고 생각했습니다.</li>
  <li>Type1, Type2, Type3의 경우 모든 모델에 대해 학습이 전혀 되지 않았습니다.
    <ul>
      <li>Stratified 5-Fold를 사용하여 학습을 해도 모든 각 fold에 대해 testset의 예측결과로 거의 대부분 no_relation으로 출력합니다. 또 다른 특징은 eval auprc가 대부분 70을 넘지 못합니다. 최대 68정도이고 많은 경우 50대를 유지합니다.</li>
      <li>따라서, baseline code의 전처리 방식을 따라가면서 word의 정보를 주는것이 맞다고 판단하여 Type4의 실험을 진행했습니다.</li>
    </ul>
  </li>
  <li>Type4의 경우, klue/roberta, klue/bert에서 baseline보다 좋은 성능을 내줍니다.
    <ul>
      <li>xlm-roberta-base의 성능은 5-fold에서 eval aurpc 60대를 기록하여 roberta나 bert보다 성능이 좋지 않습니다. vocab의 수가 너무 많아서 optima에 수렴하는 것을 어려워한 것이 아닌가 생각됩니다.</li>
      <li>데이터 불균형때문에 label smoothing factor(0.1, 0.3)를 주어서 학습을 진행했습니다. 하지만 오히려 성능이 떨어지는 결과를 얻었습니다. 이후 실험에서는 label smoothing을 적용하지 않았습니다.</li>
    </ul>
  </li>
  <li>Type5의 경우, klue/bert-base를 이용하여 실험을 진행하였습니다.
    <ul>
      <li>eval_auprc가 최소 72에서 78까지 다양하게 학습된다.</li>
      <li>Public LB에서 f1 1~2정도 오르는 효과를 볼 수 있었습니다.</li>
    </ul>
  </li>
  <li>Type6의 경우, klue/roberta-large를 이용하여 실험을 진행하였습니다.
    <ul>
      <li>eval_auprc가 최소 80이상을 기록했으며, Public LB에서 폴드 평균을 내면 71, 폴드마다 71에서 73을 기록했습니다.</li>
      <li>dataset의 Out of Vocabulary가 심한 상태이고 [unused] 토큰의 전략이 잘 먹혔다고 판단되었습니다. 하지만 f1보다 auprc가 낮기 때문에 Priviate에서 점수가 떨어질 것으로 예상했습니다.</li>
      <li>[unused] 토큰을 250개로 늘려서 똑같은 환경에서 실험해봤으나 [unused] 토큰을 마냥 늘리는 것이 성능 향상에 도움이 되지 않음을 알 수 있었습니다.</li>
    </ul>
  </li>
  <li>Type7의 경우, klue/roberta-base, larget 모델을 이용해서 실험을 진행하였습니다.
    <ul>
      <li>Type6를 적용했을 때와 비슷한 성능을 내주지만 넘어서는 성능을 내지 못했습니다.</li>
    </ul>
  </li>
</ul>

<h2 id="회고">회고</h2>
<hr />
<p>대회 첫 주에 baseline 코드를 이해하느라 시간을 너무 많이 사용했습니다. 두 번째 주가 되어서야 전처리나 다른 모델을 사용할 수 있어서 너무 아쉬웠습니다. 이번 대회를 통해 huggingface를 어느정도 이해할 수 있었고 대회가 끝나면 최적화 방법들을 공부하고 팀에 공유할 생각입니다.<br />
대회 이후 상위권 팀의 리뷰에서 Type7과 같은 Punctuation 방식을 사용했는데 subject와 object를 앞에 추가하지 않고 성능이 오르는 효과가 있었다고 합니다. 그래서 더욱 아쉽습니다.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#boostcamp" class="page__taxonomy-item p-category" rel="tag">boostcamp</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#contest" class="page__taxonomy-item p-category" rel="tag">Contest</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-10-09T00:00:00+09:00">October 9, 2021</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/boostcamp/self-supervised-pretraining-model/" class="pagination--pager" title="Self-supervised Pre-training Models 정리
">Previous</a>
    
    
      <a href="/jekyll/md-latex/" class="pagination--pager" title="jekyll 마크다운과 maxjax 충돌 해결 방법
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/pytorch/dl-implement/" rel="permalink">최대한 기본 라이브러리로만 딥러닝 구현하기
</a>
      
    </h2>
    


    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> July 04 2022</p>
    
    <p class="archive__item-excerpt" itemprop="description">Motivation

  모기업 코딩테스트에 파이썬 기본 라이브러리로만 MLP를 구현하는 문제가 나왔던 적이 있습니다. 당시에 학습이 되지 않아 코딩테스트에서 떨어졌었고 구현하지 못했던 것이 계속 생각났었습니다.
numpy로 구현한 코드는 많았지만 numpy도 사용하지 않고 구현한...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/paper/On-the-effect-of-corpora/" rel="permalink">On the Effect of Pretraining Corpora on In-context Learning by a LLM
</a>
      
    </h2>
    


    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> June 06 2022</p>
    
    <p class="archive__item-excerpt" itemprop="description">
  모두의연구소에서 논문저자가 직접 논문을 리뷰해주는 세미나가 열렸습니다. 주제가 재밌어 보여 발표를 듣고 논문을 다시 읽어 리뷰해보려고 합니다.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ops/kubenetes-overview/" rel="permalink">Kubernetes
</a>
      
    </h2>
    


    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> May 15 2022</p>
    
    <p class="archive__item-excerpt" itemprop="description">컨테이너 기반 배포
애플리케이션 배포 방식은 물리적인 컴퓨터에 OS와 APP을 설치하여 서비스하던 방식에서 가상화 배포 방식으로 변화했습니다. 가상화 방식은 가상머신 성능을 각각 관리하면서 자원 상황에 따라 조절할 수 있습니다. 그러나 가상머신마다 OS를 새로 설치해야 하고 용량 ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/atcoder/abc250/" rel="permalink">AtCoder Beginner Contest 250
</a>
      
    </h2>
    


    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> May 10 2022</p>
    
    <p class="archive__item-excerpt" itemprop="description">A. Adjacent Squares
(H, W) 크기의 행렬이 주어졌을 때 위치 (R, C)에서 인접한 원소의 수를 출력하는 문제이다.
H와 W가 1인 경우를 예외처리해주면 쉽게 풀 수 있다.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 emeraldgoose. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'emeraldgoose/emeraldgoose.github.io');
    script.setAttribute('issue-term', 'pathname');
    
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  




<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
  inlineMath: [['$','$']],
  displayMath: [['$$','$$']],
  processEscapes: true
  },
  "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>

  </body>
</html>
